replicaCount: 1

image:
  repository: debezium/connect
  tag: "2.7.3.Final"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8083

kafka:
  # dev/prod 환경에서 각각 오버라이드 가능
  bootstrapServers: kafka:9092

connect:
  groupId: popcorn-connect
  configStorageTopic: connect-configs
  offsetStorageTopic: connect-offsets
  statusStorageTopic: connect-status
  configStorageReplicationFactor: 3
  offsetStorageReplicationFactor: 3
  statusStorageReplicationFactor: 3

converters:
  keyConverter: org.apache.kafka.connect.storage.StringConverter
  valueConverter: org.apache.kafka.connect.json.JsonConverter
  valueConverterSchemasEnable: "false"

pod:
  annotations: {}
  topologySpreadConstraints: []
  nodeSelector: {}
  tolerations: []
  affinity: {}
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 500m
      memory: 1Gi

  probes:
    enabled: true
    initialDelaySeconds: 20
    periodSeconds: 10

  extraEnv: []

serviceAccount:
  create: false
  name: default

securityContext: {}

# Outbox CDC 커넥터를 GitOps로 등록하기 위한 bootstrap Job
connectorBootstrap:
  enabled: false
  # ArgoCD Sync 시 매번 실행하려면 true 유지
  useArgoHook: true
  connectUrl: ""
  waitAttempts: 60
  waitDelaySeconds: 5
  backoffLimit: 2

  image:
    repository: python
    tag: "3.12-alpine"
    pullPolicy: IfNotPresent

  # ${VAR_NAME} 치환에 사용할 Secret 이름 목록
  envFromSecrets: []
  extraEnv: []

  # 예시
  # connectors:
  #   - name: checkins-outbox-connector
  #     config:
  #       connector.class: io.debezium.connector.postgresql.PostgresConnector
  #       database.hostname: ${CHECKINS_DB_HOST}
  #       database.port: "5432"
  #       database.user: ${CHECKINS_DB_USER}
  #       database.password: ${CHECKINS_DB_PASSWORD}
  #       database.dbname: popcorn_prod
  #       plugin.name: pgoutput
  #       slot.name: checkins_outbox_slot
  #       publication.autocreate.mode: filtered
  #       schema.include.list: checkins
  #       table.include.list: checkins.outbox_events
  #       topic.prefix: popcorn
  #       transforms: outbox
  #       transforms.outbox.type: io.debezium.transforms.outbox.EventRouter
  #       transforms.outbox.table.field.event.id: event_id
  #       transforms.outbox.table.field.event.key: partition_key
  #       transforms.outbox.table.field.event.type: event_type
  #       transforms.outbox.table.field.event.payload: event_data
  #       transforms.outbox.table.expand.json.payload: "true"
  #       transforms.outbox.route.by.field: topic
  #       transforms.outbox.route.topic.replacement: ${routedByValue}
  #       key.converter: org.apache.kafka.connect.storage.StringConverter
  #       value.converter: org.apache.kafka.connect.json.JsonConverter
  #       value.converter.schemas.enable: "false"
  connectors: []
